<!DOCTYPE html>
<html lang="en">
    <head>
        <title>퀴즈 2번</title>
        <meta charset="utf-8">

        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <style>
            .box {width: 100px; height: 100px; background-color: blue;}
        </style>
    </head>
    <body>
        <!-- 1. 색 바꾸기 -->
        <h2>1. 색 바꾸기</h2>
        <div class="box"></div><br>
        <select id="colorSelect">
            <option>--색 선택--</option>
            <option value="blue">파란색</option>
            <option value="red">빨간색</option>
            <option value="green">초록색</option>
            <option value="purple">자주색</option>
        </select>
        <hr>

        <!-- 2. 입력 바꾸기 -->
        <h2>2. 입력 바꾸기</h2>
        <label>학생<input type="radio" name="job", value="student" checked></label>
        <label>직장인<input type="radio" name="job" value="worker"></label>
        <br>
        <span class="job-name">학교명</span>
        <input type="text">
        <hr>

        <!-- 3. 전체 선택 -->
        <h2>3. 전체 선택</h2>
        <label>전체 선택<input type="checkbox" id="allCheck"></label><br>
        <label>개인정보 활용 동의<input type="checkbox" name="agree" value="check1"></label>
        <label>서비스 이용 동의<input type="checkbox" name="agree" value="check2"></label>
        <label>마케팅 활용 동의<input type="checkbox" name="agree" value="check3"></label>
        <hr>

        <!-- 4. 길이 제한 -->
        <h2>4. 길이 제한</h2>
        <input type="text" id="limitText" maxlength="5">


        <script>
            $(document).ready(function(e) {
                // 1. 색 바꾸기
                $('#colorSelect').on('change', function(e) {
                    let color = $('#colorSelect option:selected').val();
                    $('.box').css('background-color', color);
                });

                // 2. 입력 바꾸기
                $('input[name=job]').on('change', function(e) {
                    let job = $('input[name=job]:checked').val();
                    if (job == 'student') {
                        $('.job-name').text('학교명');
                    } else {
                        $('.job-name').text('회사명');
                    }
                });

                // 3. 전체 선택
                $('#allCheck').on('change', function(e) {
                    let isAllchecked = $(this).is(':checked');
                    $('input[name=agree').prop('checked', isAllchecked);
                });

                // 4. 길이 제한
                // keyup 이벤트: 키를 뗄 때 동작하므로 5자를 넘을 수 있다.
                // input 이벤트: 키를 하나 눌렀을 때 동작하는 이벤트
                $('#limitText').on('input', function(e) {
                    let text = $(this).val();
                    console.log(text.length);
                    if (text.length > 5) {
                        text = text.slice(0, 5);
                        $(this).val(text);
                        alert("다섯자를 초과하여 입력할 수 없습니다.");
                    }
                });
            });
        </script>
    </body>
</html>
